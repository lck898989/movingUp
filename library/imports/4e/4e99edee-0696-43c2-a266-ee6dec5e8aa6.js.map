{"version":3,"sources":["../../../../assets/Script/assets/Script/OverController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,0CAA6C;AAEvC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA4C,kCAAY;IAAxD;;IA0CA,CAAC;IAxCG,wBAAwB;IAExB,+BAAM,GAAN;IAEA,CAAC;IAED,8BAAK,GAAL;IAEA,CAAC;IACD,iCAAQ,GAAR,UAAS,CAAW,EAAC,IAAS;QAA9B,iBA2BC;QA1BG,IAAG,IAAI,KAAK,SAAS,EAAE;YACnB,SAAS;YACT,IAAI,QAAQ,GAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpD,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SACjC;aAAM,IAAG,IAAI,KAAK,OAAO,EAAE;YACxB,WAAW;YACX,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;SAElC;aAAM,IAAG,IAAI,KAAK,MAAM,EAAE;YACvB,QAAQ;YACR,IAAI,cAAY,GAA+B,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;YAClG,mBAAmB;YACnB,cAAY,CAAC,eAAe,CAAC,CAAC,mBAAU,CAAC,IAAI,EAAC,mBAAU,CAAC,OAAO,CAAC,CAAC,CAAC;YACnE,UAAU,CAAC;gBACP,cAAY,CAAC,EAAE,GAAG,mBAAU,CAAC,IAAI,CAAC;gBAClC,IAAI,QAAQ,GAAW,MAAM,CAAC,cAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACvD,IAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,EAAE;oBACjB,cAAY,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;oBACpC,IAAI,QAAQ,GAAW,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACxE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACpD,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;iBACjC;YAEL,CAAC,EAAC,GAAG,CAAC,CAAC;SACV;IACL,CAAC;IACD,+BAAM,GAAN,UAAQ,EAAE;IAEV,CAAC;IAzCgB,cAAc;QADlC,OAAO;OACa,cAAc,CA0ClC;IAAD,qBAAC;CA1CD,AA0CC,CA1C2C,EAAE,CAAC,SAAS,GA0CvD;kBA1CoB,cAAc","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import SceneManager from \"./SceneManager\";\nimport { LayerState } from \"./consts/Consts\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class OverController extends cc.Component {\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n    }\n\n    start () {\n\n    }\n    btnEvent(e: cc.Event,data: any): void {\n        if(data === \"restart\") {\n            // 重新开始游戏\n            let animName: string = this.node.getComponent(cc.Animation).getClips[1];\n            this.node.getComponent(cc.Animation).play(animName);\n            cc.director.loadScene(\"Game\");\n        } else if(data === \"level\") {\n            // 回到关卡选择界面\n            cc.director.loadScene(\"level\");\n\n        } else if(data === \"next\") {\n            // 下一关游戏\n            let sceneManager: SceneManager = <SceneManager>cc.find(\"Controller\").getComponent(\"SceneManager\");\n            // 设置遮罩层和loading层显示\n            sceneManager.setLayerVisible([LayerState.MASK,LayerState.LOADING]);\n            setTimeout(() => {\n                sceneManager.LS = LayerState.NONE;\n                let curLevel: number = Number(sceneManager.getLevel());\n                if(curLevel + 1 < 6) {\n                    sceneManager.setLevel(curLevel + 1);\n                    let animName: string = this.node.getComponent(cc.Animation).getClips[1];\n                    this.node.getComponent(cc.Animation).play(animName);\n                    cc.director.loadScene(\"Game\");\n                }\n\n            },500);\n        }\n    }\n    update (dt) {\n\n    }\n}\n"]}