{"version":3,"sources":["SceneManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA0C,gCAAY;IADtD;QAEI,yBAAyB;QACzB,kDAAkD;QAClD,IAAI;QAJR,qEA2CC;QAlCW,WAAK,GAAW,CAAC,CAAC;QAClB,WAAK,GAAY,IAAI,CAAC;;IAiClC,CAAC;qBA1CoB,YAAY;IAUf,wBAAW,GAAzB;QACI,IAAG,CAAC,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI,cAAY,EAAE,CAAC;SACvC;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,4BAAK,GAAL;QACI,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,CAAC;IACxD,CAAC;IACO,kCAAW,GAAnB,UAAoB,IAAS;QACzB,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IAC5B,CAAC;IACM,8BAAO,GAAd,UAAe,QAAiB;QAC5B,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;IAC1B,CAAC;IACM,+BAAQ,GAAf,UAAgB,KAAa;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IACM,+BAAQ,GAAf;QACI,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACM,+BAAQ,GAAf,UAAgB,eAA0B;QACtC,IAAG,IAAI,CAAC,KAAK,EAAE;YACX,IAAG,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,CAAC,EAAE;gBAC7B,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;aAClC;YACD,SAAS;YACT,IAAI,SAAS,GAAY,EAAE,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;SAClC;IACL,CAAC;;IAnCD,wBAAwB;IACT,sBAAS,GAAiB,IAAI,CAAC;IAP7B,YAAY;QADhC,OAAO;OACa,YAAY,CA0ChC;IAAD,mBAAC;CA1CD,AA0CC,CA1CyC,EAAE,CAAC,SAAS,GA0CrD;kBA1CoB,YAAY","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class SceneManager extends cc.Component{\n    // static getInstance() {\n    //     throw new Error(\"Method not implemented.\");\n    // }\n\n    \n    // LIFE-CYCLE CALLBACKS:\n    private static _instance: SceneManager = null;\n    private level: number = 2;\n    private _root: cc.Node = null;\n    public static getInstance(): SceneManager {\n        if(!this._instance) {\n            this._instance = new SceneManager();\n        }\n        return this._instance;\n    }\n    start(): void {\n        cc.director.on(\"levelChoose\",this.chooseLevel,this);\n    }\n    private chooseLevel(data: any): void {\n        console.log(\"选择关卡传递过来的数据data is \",data);\n        this.level = data.level;\n    }\n    public setRoot(rootNode: cc.Node) {\n        this._root = rootNode;\n    }\n    public setLevel(level: number): void {\n        this.level = level;\n    }\n    public getLevel(): number {\n        return this.level;\n    }\n    public runScene(sceneNodePrefab: cc.Prefab): void {\n        if(this._root) {\n            if(this._root.childrenCount > 0) {\n                this._root.removeAllChildren();\n            }\n            // 添加新的场景\n            let sceneNode: cc.Node = cc.instantiate(sceneNodePrefab);\n            this._root.addChild(sceneNode);\n        }\n    }\n}\n"]}