{"version":3,"sources":["Settings.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/setting","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { MusicState, eType } from \"../consts/Consts\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Settings extends cc.Component {\n\n    @property(cc.Node)\n    effectCon: cc.Node = null;\n    @property(cc.Node)\n    musicCon: cc.Node = null;\n\n    onLoad () {\n\n    }\n\n    start () {\n        this.effectCon.on(cc.Node.EventType.TOUCH_START,this.tapEffect,this);\n        this.musicCon.on(cc.Node.EventType.TOUCH_START,this.tapMusic,this);\n        if(MusicState.musicState === eType.ON) {\n            this.musicCon.getChildByName(\"musicOn\").active = true;\n            this.musicCon.getChildByName(\"musicOff\").active = false;\n        } else {\n            this.musicCon.getChildByName(\"musicOn\").active = false;\n            this.musicCon.getChildByName(\"musicOff\").active = true;\n            cc.audioEngine.stopMusic();\n        }\n        if(MusicState.effectState === eType.ON) {\n            this.effectCon.getChildByName(\"effectOn\").active = true;\n            this.effectCon.getChildByName(\"effectOff\").active = false;\n        } else {\n            this.effectCon.getChildByName(\"effectOn\").active = false;\n            this.effectCon.getChildByName(\"effectOff\").active = true;\n        }\n        \n    }\n    btnEvent(e: cc.Event,data: any): void {\n        if(data === \"back\") {\n            this.node.getComponent(cc.Animation).play(\"settingOut\");\n        }\n    }\n    private tapEffect(): void {\n        if(MusicState.effectState === eType.ON) {\n            this.effectCon.getChildByName(\"effectOff\").active = true;\n            this.effectCon.getChildByName(\"effectOn\").active = false;\n            MusicState.effectState = eType.OFF;\n        } else {\n            this.effectCon.getChildByName(\"effectOff\").active = false;\n            this.effectCon.getChildByName(\"effectOn\").active = true;\n            MusicState.effectState = eType.ON;\n        }\n        console.log(\"音效开关状态\",MusicState.effectState);\n    }\n    private tapMusic(): void {\n        if(MusicState.musicState === eType.ON) {\n            this.musicCon.getChildByName(\"musicOff\").active = true;\n            this.musicCon.getChildByName(\"musicOn\").active = false;\n            MusicState.musicState = eType.OFF;\n            // cc.audioEngine.stopAll();\n            cc.audioEngine.pauseMusic();\n        } else {\n            this.musicCon.getChildByName(\"musicOff\").active = false;\n            this.musicCon.getChildByName(\"musicOn\").active = true;\n            MusicState.musicState = eType.ON;\n            // cc.audioEngine.resumeAll();\n            // cc.audioEngine.resumeMusic();\n            cc.audioEngine.resumeMusic();\n        }\n        console.log(\"背景音乐开关状态\",MusicState.musicState);\n    }\n    onDestroy(): void {\n        this.effectCon.off(cc.Node.EventType.TOUCH_START,this.tapEffect,this);\n        this.musicCon.off(cc.Node.EventType.TOUCH_START,this.tapMusic,this);\n    }\n    // update (dt) {}\n}\n"]}